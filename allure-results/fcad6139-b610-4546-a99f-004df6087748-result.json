{"name": "test_mts_positive", "status": "broken", "statusDetails": {"message": "playwright._impl._errors.Error: Target page, context or browser has been closed\n=========================== logs ===========================\n\"domcontentloaded\" event fired\n============================================================", "trace": "@allure.feature(\"Домашний интернет и ТВ\")\n    @allure.story(\"Позитивный тест-кейс: Подключение тарифа\")\n    def test_mts_positive():\n        #Инициализируем Playwright и запускаем браузер\n        with sync_playwright() as p:\n            # Запускаем браузер Chromium в режиме отображения (headless=False)\n            browser = p.chromium.launch(headless=False)\n            # Создаем новый контекст и страницу для теста\n            context = browser.new_context()\n            page = context.new_page()\n            try:\n                # Здесь мы добавим шаги теста\n                with allure.step(\"Шаг 1: перейти на сайт mts.ru\"):\n                    page.goto(\"https://www.mts.ru\")\n                    page.wait_for_load_state('load')\n    \n                with allure.step(\"Шаг 2: Выбрать 'Домашний интернет и ТВ'\"):\n                    page.click(\"//span[contains(@class, 'card__right-content') and contains(text(), 'Домашний')]\")\n>                   page.wait_for_load_state('load')\n\nmts_automation_test\\test_mts_positive.py:24: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n.venv\\lib\\site-packages\\playwright\\sync_api\\_generated.py:8941: in wait_for_load_state\n    self._sync(self._impl_obj.wait_for_load_state(state=state, timeout=timeout))\n.venv\\lib\\site-packages\\playwright\\_impl\\_page.py:540: in wait_for_load_state\n    return await self._main_frame.wait_for_load_state(**locals_to_params(locals()))\n.venv\\lib\\site-packages\\playwright\\_impl\\_frame.py:243: in wait_for_load_state\n    return await self._wait_for_load_state_impl(state, timeout)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <Frame name= url='https://moskva.mts.ru/personal/dom/home-allmts/moskva?frm=spa'>, state = 'load', timeout = None\n\n    async def _wait_for_load_state_impl(\n        self, state: DocumentLoadState = None, timeout: float = None\n    ) -> None:\n        if not state:\n            state = \"load\"\n        if state not in (\"load\", \"domcontentloaded\", \"networkidle\", \"commit\"):\n            raise Error(\n                \"state: expected one of (load|domcontentloaded|networkidle|commit)\"\n            )\n        waiter = self._setup_navigation_waiter(\"wait_for_load_state\", timeout)\n    \n        if state in self._load_states:\n            waiter.log(f'  not waiting, \"{state}\" event already fired')\n            # TODO: align with upstream\n            waiter._fulfill(None)\n        else:\n    \n            def handle_load_state_event(actual_state: str) -> bool:\n                waiter.log(f'\"{actual_state}\" event fired')\n                return actual_state == state\n    \n            waiter.wait_for_event(\n                self._event_emitter,\n                \"loadstate\",\n                handle_load_state_event,\n            )\n>       await waiter.result()\nE       playwright._impl._errors.Error: Target page, context or browser has been closed\nE       =========================== logs ===========================\nE       \"domcontentloaded\" event fired\nE       ============================================================\n\n.venv\\lib\\site-packages\\playwright\\_impl\\_frame.py:271: Error"}, "steps": [{"name": "Шаг 1: перейти на сайт mts.ru", "status": "passed", "start": 1728896619822, "stop": 1728896623372}, {"name": "Шаг 2: Выбрать 'Домашний интернет и ТВ'", "status": "broken", "statusDetails": {"message": "playwright._impl._errors.Error: Target page, context or browser has been closed\n=========================== logs ===========================\n\"domcontentloaded\" event fired\n============================================================\n", "trace": "  File \"C:\\MTS\\pythonProject\\mts_automation_test\\test_mts_positive.py\", line 24, in test_mts_positive\n    page.wait_for_load_state('load')\n  File \"C:\\MTS\\pythonProject\\.venv\\lib\\site-packages\\playwright\\sync_api\\_generated.py\", line 8941, in wait_for_load_state\n    self._sync(self._impl_obj.wait_for_load_state(state=state, timeout=timeout))\n  File \"C:\\MTS\\pythonProject\\.venv\\lib\\site-packages\\playwright\\_impl\\_sync_base.py\", line 115, in _sync\n    return task.result()\n  File \"C:\\MTS\\pythonProject\\.venv\\lib\\site-packages\\playwright\\_impl\\_page.py\", line 540, in wait_for_load_state\n    return await self._main_frame.wait_for_load_state(**locals_to_params(locals()))\n  File \"C:\\MTS\\pythonProject\\.venv\\lib\\site-packages\\playwright\\_impl\\_frame.py\", line 243, in wait_for_load_state\n    return await self._wait_for_load_state_impl(state, timeout)\n  File \"C:\\MTS\\pythonProject\\.venv\\lib\\site-packages\\playwright\\_impl\\_frame.py\", line 271, in _wait_for_load_state_impl\n    await waiter.result()\n"}, "start": 1728896623372, "stop": 1728896640769}], "start": 1728896615103, "stop": 1728896640973, "uuid": "6d3a7b70-141b-402a-8875-b96f5e69303a", "historyId": "767f0c2f9ebcd6be32fe0c29514b5778", "testCaseId": "767f0c2f9ebcd6be32fe0c29514b5778", "fullName": "mts_automation_test.test_mts_positive#test_mts_positive", "labels": [{"name": "feature", "value": "Домашний интернет и ТВ"}, {"name": "story", "value": "Позитивный тест-кейс: Подключение тарифа"}, {"name": "parentSuite", "value": "mts_automation_test"}, {"name": "suite", "value": "test_mts_positive"}, {"name": "host", "value": "DESKTOP-UPURTJU"}, {"name": "thread", "value": "29892-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "mts_automation_test.test_mts_positive"}]}